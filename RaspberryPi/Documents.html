<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>openEuler for Raspberry Pi 4B | Some random docs</title>
    <meta name="generator" content="VuePress 1.5.3">
    
    <meta name="description" content="Simple and Naive">
    <link rel="preload" href="/assets/css/0.styles.9e914525.css" as="style"><link rel="preload" href="/assets/js/app.ea8bb17c.js" as="script"><link rel="preload" href="/assets/js/2.a7d2a52c.js" as="script"><link rel="preload" href="/assets/js/7.12de780f.js" as="script"><link rel="prefetch" href="/assets/js/3.d4b7eb0e.js"><link rel="prefetch" href="/assets/js/4.867f9c13.js"><link rel="prefetch" href="/assets/js/5.6cb00b25.js"><link rel="prefetch" href="/assets/js/6.99d21af8.js"><link rel="prefetch" href="/assets/js/8.f0e8d556.js"><link rel="prefetch" href="/assets/js/9.82da99d0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9e914525.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Some random docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/raspberrypi/" class="nav-link">
  RaspberryPi
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/raspberrypi/" class="nav-link">
  RaspberryPi
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>RaspberryPi</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/RaspberryPi/" aria-current="page" class="sidebar-link">Raspberry Pi 配置</a></li><li><a href="/RaspberryPi/Documents.html" aria-current="page" class="active sidebar-link">openEuler for Raspberry Pi 4B</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/RaspberryPi/Documents.html#安装桌面环境之前" class="sidebar-link">安装桌面环境之前</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/RaspberryPi/Documents.html#安装-sudo" class="sidebar-link">安装 sudo</a></li><li class="sidebar-sub-header"><a href="/RaspberryPi/Documents.html#创建新用户" class="sidebar-link">创建新用户</a></li></ul></li><li class="sidebar-sub-header"><a href="/RaspberryPi/Documents.html#如何在树莓派-4b-上安装桌面环境" class="sidebar-link">如何在树莓派 4B 上安装桌面环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/RaspberryPi/Documents.html#安装-xorg-驱动" class="sidebar-link">安装 Xorg 驱动</a></li><li class="sidebar-sub-header"><a href="/RaspberryPi/Documents.html#安装显示管理器" class="sidebar-link">安装显示管理器</a></li><li class="sidebar-sub-header"><a href="/RaspberryPi/Documents.html#安装桌面环境" class="sidebar-link">安装桌面环境</a></li><li class="sidebar-sub-header"><a href="/RaspberryPi/Documents.html#安装配套软件" class="sidebar-link">安装配套软件</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="openeuler-for-raspberry-pi-4b"><a href="#openeuler-for-raspberry-pi-4b" class="header-anchor">#</a> openEuler for Raspberry Pi 4B</h1> <p><strong>注意</strong>：本文档中使用系统为 openEuler，使用硬件为 Raspberry Pi 4B with 4 GiB RAM。本文仅保证，截止本文最后更新，文中操作可以在作者处正确执行，一切请以实际情况为准，如有问题，请开 Issue 或者 Pull Request。</p> <h2 id="安装桌面环境之前"><a href="#安装桌面环境之前" class="header-anchor">#</a> 安装桌面环境之前</h2> <p>众所周知，在 Linux 下使用桌面环境时，一般是不建议使用 <code>root</code> 用户进行登录的，因此，我们在这里需要配置多用户环境。</p> <h3 id="安装-sudo"><a href="#安装-sudo" class="header-anchor">#</a> 安装 <code>sudo</code></h3> <p>首先，如果我们想要其他用户可以用自己的密码提升权限（即达到 <code>root</code> 用户的权限），或者使用 <code>root</code> 用户，但模拟其他用户的权限来执行命令，则我们需要使用 <code>sudo</code> 这一软件</p> <div class="language-text extra-class"><pre class="language-text"><code># dnf install sudo
</code></pre></div><p>当然，就算一时没有上述需求，也可以安装上 <code>sudo</code>，并不会影响太多。接下来的内容只有需要使用 <code>sudo</code> 的用户需要查看，否则请跳至创建新用户部分。</p> <h4 id="修改-sudoers"><a href="#修改-sudoers" class="header-anchor">#</a> 修改 <code>sudoers</code></h4> <p>这里我们提前简单地提一下如何修改 <code>sudoers</code> 文件。并不是所有用户都能使用 <code>sudo</code> 命令来提升自己的权限，因此，我们需要将有这一需求的用户 / 用户组添加至 <code>sudoers</code> 文件中。
直接使用 <code>visudo</code> 命令打开 <code>sudoers</code> 文件，这里使用的是 <code>vim</code> 编辑器，我们可以使用 hjkl 或者方向键来进行上下左右移动光标的操作，将光标移动至</p> <div class="language-text extra-class"><pre class="language-text"><code>root    ALL=(ALL)       ALL
</code></pre></div><p>这一行，按下 <code>i</code> 进行编辑，然后新建一行，或者直接按下 <code>o</code> 新建一行并开始编辑，将你想要使用 <code>sudo</code> 的用户按同样的方式添加到新的一行</p> <div class="language-text extra-class"><pre class="language-text"><code>your_username    ALL=(ALL)       ALL
</code></pre></div><p>或者，你可以将用户添加至 wheel 用户组，然后将</p> <div class="language-text extra-class"><pre class="language-text"><code>%wheel  ALL=(ALL)       ALL
</code></pre></div><p>这一行最前面的百分号删除。
编辑结束后，按下 <code>Esc</code>，输入英文冒号，w，q，也即 <code>:wq</code>，按下回车，即可保存并退出。</p> <h3 id="创建新用户"><a href="#创建新用户" class="header-anchor">#</a> 创建新用户</h3> <p>接下来就可以创建新用户了</p> <div class="language-text extra-class"><pre class="language-text"><code># useradd -m -G your_group -s login_shell your_username
</code></pre></div><p>其中 <code>-m</code> 选项是指为该用户创建 <code>/home/your_username</code> 文件夹，<code>-G</code> 选项是指将用户添加进某一用户组（一般 wheel 是管理员用户组），<code>-s</code> 选项可以指定用户的登录 Shell，比如 <code>/bin/bash</code>，<code>/bin/zsh</code> 等等（zsh 需要额外安装），<code>your_username</code> 即你想要的用户名。如果你想使用 <code>bash</code> 进行登录，创建 <code>/home/your_username</code>，并且不将用户添加至其他用户组，你也可以使用下述命令进行用户添加</p> <div class="language-text extra-class"><pre class="language-text"><code># adduser your_username
</code></pre></div><p>注意添加完以后别忘了给用户设置一个密码</p> <div class="language-text extra-class"><pre class="language-text"><code># passwd your_username
</code></pre></div><h4 id="如何切换用户"><a href="#如何切换用户" class="header-anchor">#</a> 如何切换用户</h4> <p>从 <code>root</code> 用户切换至其他用户可以使用</p> <div class="language-text extra-class"><pre class="language-text"><code># su your_username
</code></pre></div><p>从其他用户切换至 <code>root</code> 用户可以使用如下命令，但需要输入 <code>root</code> 用户的密码</p> <div class="language-text extra-class"><pre class="language-text"><code># su
</code></pre></div><p>从管理员（已添加至 <code>sudoers</code>）用户切换至 <code>root</code> 用户可以使用如下命令，但需要输入用户自己的密码</p> <div class="language-text extra-class"><pre class="language-text"><code># sudo su
</code></pre></div><p>好了，现在你已经创建好了你的用户，可以开始尝试安装桌面环境了，后面的内容，我们将会用管理员用户的身份来执行命令，并使用用户自己的密码来提升权限。</p> <h2 id="如何在树莓派-4b-上安装桌面环境"><a href="#如何在树莓派-4b-上安装桌面环境" class="header-anchor">#</a> 如何在树莓派 4B 上安装桌面环境</h2> <p><strong>注意</strong>：如前文所说，对于这里的内容，我们将会用管理员用户的身份来执行命令，并使用用户自己的密码来提升权限。
如果你没有设置管理员，对于添加了 <code>sudo</code> 的命令，请直接使用 <code>root</code> 用户执行去掉 <code>sudo</code> 的部分，对于没有添加 <code>sudo</code> 的命令，请使用普通用户执行。</p> <h3 id="安装-xorg-驱动"><a href="#安装-xorg-驱动" class="header-anchor">#</a> 安装 Xorg 驱动</h3> <p>首先我们需要安装 <code>xorg-x11-drv-fbdev</code>，其提供了树莓派所需的 Xorg 驱动。</p> <div class="language-text extra-class"><pre class="language-text"><code>$ sudo dnf install xorg-x11-drv-fbdev
</code></pre></div><h3 id="安装显示管理器"><a href="#安装显示管理器" class="header-anchor">#</a> 安装显示管理器</h3> <p>然后我们需要安装一个 Display Manager，也即中文所说的显示管理器，用于登录用户，启动各种桌面 Session 等。由于树莓派的性能并不是很高，我们一般选择 <code>lightdm</code> 进行安装。由于 <code>lightdm</code> 没有自带 greeter（greeter 是提示用户输入密码的 GUI 界面），除非配置了自动登录，一般情况下我们都需要安装一个 greeter。这里我们使用常见的 <code>lightdm-gtk</code>。</p> <div class="language-text extra-class"><pre class="language-text"><code>$ sudo dnf install lightdm lightdm-gtk
</code></pre></div><h3 id="安装桌面环境"><a href="#安装桌面环境" class="header-anchor">#</a> 安装桌面环境</h3> <p>接下来就是安装桌面环境了，同样地，由于树莓派性能较差，我们不推荐安装常见的 GNOME，KDE Plasma 等桌面环境，而推荐使用 LXQt，MATE，Xfce 等轻量级的桌面环境，这里我们使用的是 Xfce。</p> <div class="language-text extra-class"><pre class="language-text"><code>$ sudo dnf install xfce4-session xfwm4
</code></pre></div><p>注意，请在 <code>/etc/selinux/config</code> 中关闭 SELinux，或者你可以修改 <code>/etc/selinux/config</code> 中的对应选项并安装相应的规则来避免报错，但目前测试即使安装了 SELinux 对应规则也会有无法启动等问题，建议直接关闭。
在 openEuler 中，<code>lightdm.service</code> 会被自动 enable，因此安装完毕后，直接重启，就可以看到进入了 <code>lightdm</code> 的界面，在右上角选择合适的语言，并选中 Xfce Session，输入用户的密码即可进入 Xfce 桌面了。
如果发现图形界面与显示器边框之间有较大边框，请尝试编辑 <code>/boot/config.txt</code>，并取消 <code>disable_overscan=1</code> 的注释，如果仍有问题，请手动调整下面的 <code>overscan_left</code>，<code>overscan_right</code> 等数值。</p> <h3 id="安装配套软件"><a href="#安装配套软件" class="header-anchor">#</a> 安装配套软件</h3> <p>此时的 Xfce 仅仅只是一个单独的桌面，没有配套软件，对此，我们可以按需安装各种软件，下面将给出介绍。</p> <ul><li><code>Thunar</code>，Xfce 桌面的文件管理器。
<ul><li><code>thunar-vcs-plugin</code>，整合部分 SVN 和 Git 操作到 Thunar 中。</li> <li><code>thunar-media-tags-plugin</code>，给 Thunar 增加媒体信息显示，并让用户能修改媒体标签。</li> <li><code>thunar-archive-plugin</code>，让用户能在 Thunar 内创建或解压压缩文件。</li></ul></li> <li><code>gigolo</code>，Xfce 桌面的远程文件系统管理器，方便让用户连接诸如 FTP / SAMBA 等远程文件服务。</li> <li><code>parole</code>，Xfce 桌面的媒体播放器。</li> <li><code>xfce4-terminal</code>，Xfce 桌面的终端模拟器。</li> <li><code>xfburn</code>，Xfce 桌面的光碟烧录软件。</li> <li><code>Midori</code>，Xfce 桌面的网页浏览器。</li> <li><code>catfish</code>，Xfce 桌面的文件搜索器。</li> <li><code>ristretto</code>，Xfce 桌面的图片浏览器。</li> <li><code>xarchiver</code>，Xfce 桌面的压缩文件管理器。</li> <li><code>xfdesktop</code>，<code>xfce-theme-manager</code>，Xfce 桌面、主题相关。</li> <li><code>xfce4-settings</code>，Xfce 桌面的各种设置项。</li> <li><code>xfce4-power-manager</code>，Xfce 桌面的电源管理。</li> <li><code>xfce4-screenshooter</code>，Xfce 桌面的截图软件。</li> <li><code>xfce4-screensaver</code>，Xfce 桌面的锁屏管理软件。</li> <li><code>xfce4-panel-profiles</code>，让用户可以对 Xfce panel 的样式进行备份、管理和恢复。</li> <li><code>xfce4-notifyd</code>，Xfce 桌面的通知管理器。</li> <li><code>xfce4-dict</code>，Xfce 桌面的词典。</li> <li><code>xfce4-taskmanager</code>，Xfce 桌面的任务管理器。</li> <li><code>xfdashboard</code>，提供类似 GNOME Shell 的多工作空间管理和应用搜索界面。</li> <li><code>xfce4-appfinder</code>，让用户可以搜索已安装的应用，或是使用快捷键等方式快速启动应用。</li> <li><code>xfce4-volumed-pulse</code>，用于在 Xfce 桌面使用键盘快捷键调节音量</li> <li><code>network-manager-applet</code>，用于在 Xfce 桌面连接网络。</li> <li><code>blueman</code>，用于在 Xfce 桌面连接蓝牙设备。</li> <li><code>fcitx</code>，一个常用的输入法框架，我们可以用其搭配输入法模块来使用各种输入法。
<ul><li><code>fcitx-qt5</code>，<code>fcitx-qt4</code>，<code>fcitx-gtk3</code>，<code>fcitx-gtk2</code> 提供对各类应用的支持。</li> <li><code>fcitx-libpinyin</code>，提供拼音输入法。</li> <li><code>fcitx-configtool</code>，提供 <code>fcitx</code> 的 GUI 配置界面。</li></ul></li> <li><code>openEuler-logos</code>，提供 openEuler 社区的桌面壁纸。</li> <li><code>gnome-font-viewer</code> 和 <code>font-manager</code> 提供字体管理。</li> <li><code>google-noto-cjk-fonts</code>，提供中日韩字型，包括黑体和宋体以及等宽字体。如果觉得体积太大，可仅安装下述中文部分。如不安装，则中文字体可能会显示为方块或者不显示。
<ul><li><code>google-noto-sans-cjk-sc-fonts</code>，提供中文字型，黑体。</li> <li><code>google-noto-serif-cjk-sc-fonts</code>，提供中文字型，宋体。</li> <li><code>google-noto-sans-mono-cjk-sc-fonts</code>，提供中文字型，等宽字体。</li></ul></li> <li><code>mousepad</code>、<code>geany</code> 和 <code>gedit</code> 是轻量的，基于 GTK 的文本编辑器。</li></ul> <p>使用 <code>imsettings-list</code> 可以看到输入法默认选择的是 <code>fcitx</code>，如果不是，可以使用 <code>imsettings-switch</code> 来进行切换。</p> <p><code>xfce4-panel</code> 提供了绝大多数 Xfce 桌面的功能，例如原本的应用启动器、开始菜单、工作空间切换等，其有非常多的插件可以进行安装，列表如下：</p> <ul><li><code>xfce4-battery-plugin</code>，电池电量监控。</li> <li><code>xfce4-calculator-plugin</code>，计算器。</li> <li><code>xfce4-clipman-plugin</code>，剪贴板管理器。</li> <li><code>xfce4-cpugraph-plugin</code>，显示 CPU 支持和被使用的频率信息。</li> <li><code>xfce4-datetime-plugin</code>，显示日期和时间，单击可以显示日历。</li> <li><code>xfce4-diskperf-plugin</code>，显示实时硬盘 / 分区性能。</li> <li><code>xfce4-embed-plugin</code>，将任意应用的窗口固定到 panel。</li> <li><code>xfce4-eyes-plugin</code>，一双眼睛。</li> <li><code>xfce4-fsguard-plugin</code>，监控挂载点并在达到限额时警告。</li> <li><code>xfce4-genmon-plugin</code>，使用脚本监控各项数据并显示在 panel 上。</li> <li><code>xfce4-hardware-monitor-plugin</code>，监控各项硬件数据（CPU 占用，网络吞吐量等）。</li> <li><code>xfce4-mailwatch-plugin</code>，监控邮箱是否有新邮件。</li> <li><code>xfce4-mount-plugin</code>，快捷挂载 / 取消挂载分区或移动存储等。</li> <li><code>xfce4-mpc-plugin</code>，一个 MPD 的 GUI 控制器。</li> <li><code>xfce4-netload-plugin</code>，显示当前选中网络设备的负载。</li> <li><code>xfce4-notes-plugin</code>，提供笔记功能。</li> <li><code>xfce4-places-plugin</code>，提供一个快速访问某些文件夹的目录。</li> <li><code>xfce4-pulseaudio-plugin</code>，调节麦克风、扬声器的音量。</li> <li><code>xfce4-sensors-plugin</code>，支持显示硬件传感器的温度。</li> <li><code>xfce4-smartbookmark-plugin</code>，快捷使用各种搜索引擎进行搜索。</li> <li><code>xfce4-statusnotifier-plugin</code>，支持让应用显示自己的状态，并与用户进行互动。</li> <li><code>xfce4-stopwatch-plugin</code>，秒表。</li> <li><code>xfce4-systemload-plugin</code>，系统负载监视器，显示 CPU 负载，交换空间占用及在线时间等。</li> <li><code>xfce4-timer-plugin</code>，闹钟。</li> <li><code>xfce4-time-out-plugin</code>，定时锁定计算机以让用户休息。</li> <li><code>xfce4-verve-plugin</code>，快速执行命令，打开 URL 等，支持补全。</li> <li><code>xfce4-wavelan-plugin</code>，显示无线网络的信号、状态、SSID 等。</li> <li><code>xfce4-weather-plugin</code>，显示当前的天气状态以及天气预报。</li> <li><code>xfce4-whiskermenu-plugin</code>，一个开始菜单替代，可以列出收藏、最近使用的应用，也可以配置关机使用的命令等。</li> <li><code>xfce4-xkb-plugin</code>，设置、选择键盘布局。</li></ul> <p>未完待续</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/RaspberryPi/" class="prev router-link-active">
        Raspberry Pi 配置
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ea8bb17c.js" defer></script><script src="/assets/js/2.a7d2a52c.js" defer></script><script src="/assets/js/7.12de780f.js" defer></script>
  </body>
</html>

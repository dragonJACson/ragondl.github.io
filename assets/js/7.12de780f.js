(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{357:function(e,v,_){"use strict";_.r(v);var c=_(42),t=Object(c.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"openeuler-for-raspberry-pi-4b"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#openeuler-for-raspberry-pi-4b"}},[e._v("#")]),e._v(" openEuler for Raspberry Pi 4B")]),e._v(" "),_("p",[_("strong",[e._v("注意")]),e._v("：本文档中使用系统为 openEuler，使用硬件为 Raspberry Pi 4B with 4 GiB RAM。本文仅保证，截止本文最后更新，文中操作可以在作者处正确执行，一切请以实际情况为准，如有问题，请开 Issue 或者 Pull Request。")]),e._v(" "),_("h2",{attrs:{id:"安装桌面环境之前"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#安装桌面环境之前"}},[e._v("#")]),e._v(" 安装桌面环境之前")]),e._v(" "),_("p",[e._v("众所周知，在 Linux 下使用桌面环境时，一般是不建议使用 "),_("code",[e._v("root")]),e._v(" 用户进行登录的，因此，我们在这里需要配置多用户环境。")]),e._v(" "),_("h3",{attrs:{id:"安装-sudo"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#安装-sudo"}},[e._v("#")]),e._v(" 安装 "),_("code",[e._v("sudo")])]),e._v(" "),_("p",[e._v("首先，如果我们想要其他用户可以用自己的密码提升权限（即达到 "),_("code",[e._v("root")]),e._v(" 用户的权限），或者使用 "),_("code",[e._v("root")]),e._v(" 用户，但模拟其他用户的权限来执行命令，则我们需要使用 "),_("code",[e._v("sudo")]),e._v(" 这一软件")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("# dnf install sudo\n")])])]),_("p",[e._v("当然，就算一时没有上述需求，也可以安装上 "),_("code",[e._v("sudo")]),e._v("，并不会影响太多。接下来的内容只有需要使用 "),_("code",[e._v("sudo")]),e._v(" 的用户需要查看，否则请跳至创建新用户部分。")]),e._v(" "),_("h4",{attrs:{id:"修改-sudoers"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#修改-sudoers"}},[e._v("#")]),e._v(" 修改 "),_("code",[e._v("sudoers")])]),e._v(" "),_("p",[e._v("这里我们提前简单地提一下如何修改 "),_("code",[e._v("sudoers")]),e._v(" 文件。并不是所有用户都能使用 "),_("code",[e._v("sudo")]),e._v(" 命令来提升自己的权限，因此，我们需要将有这一需求的用户 / 用户组添加至 "),_("code",[e._v("sudoers")]),e._v(" 文件中。\n直接使用 "),_("code",[e._v("visudo")]),e._v(" 命令打开 "),_("code",[e._v("sudoers")]),e._v(" 文件，这里使用的是 "),_("code",[e._v("vim")]),e._v(" 编辑器，我们可以使用 hjkl 或者方向键来进行上下左右移动光标的操作，将光标移动至")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("root    ALL=(ALL)       ALL\n")])])]),_("p",[e._v("这一行，按下 "),_("code",[e._v("i")]),e._v(" 进行编辑，然后新建一行，或者直接按下 "),_("code",[e._v("o")]),e._v(" 新建一行并开始编辑，将你想要使用 "),_("code",[e._v("sudo")]),e._v(" 的用户按同样的方式添加到新的一行")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("your_username    ALL=(ALL)       ALL\n")])])]),_("p",[e._v("或者，你可以将用户添加至 wheel 用户组，然后将")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("%wheel  ALL=(ALL)       ALL\n")])])]),_("p",[e._v("这一行最前面的百分号删除。\n编辑结束后，按下 "),_("code",[e._v("Esc")]),e._v("，输入英文冒号，w，q，也即 "),_("code",[e._v(":wq")]),e._v("，按下回车，即可保存并退出。")]),e._v(" "),_("h3",{attrs:{id:"创建新用户"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#创建新用户"}},[e._v("#")]),e._v(" 创建新用户")]),e._v(" "),_("p",[e._v("接下来就可以创建新用户了")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("# useradd -m -G your_group -s login_shell your_username\n")])])]),_("p",[e._v("其中 "),_("code",[e._v("-m")]),e._v(" 选项是指为该用户创建 "),_("code",[e._v("/home/your_username")]),e._v(" 文件夹，"),_("code",[e._v("-G")]),e._v(" 选项是指将用户添加进某一用户组（一般 wheel 是管理员用户组），"),_("code",[e._v("-s")]),e._v(" 选项可以指定用户的登录 Shell，比如 "),_("code",[e._v("/bin/bash")]),e._v("，"),_("code",[e._v("/bin/zsh")]),e._v(" 等等（zsh 需要额外安装），"),_("code",[e._v("your_username")]),e._v(" 即你想要的用户名。如果你想使用 "),_("code",[e._v("bash")]),e._v(" 进行登录，创建 "),_("code",[e._v("/home/your_username")]),e._v("，并且不将用户添加至其他用户组，你也可以使用下述命令进行用户添加")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("# adduser your_username\n")])])]),_("p",[e._v("注意添加完以后别忘了给用户设置一个密码")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("# passwd your_username\n")])])]),_("h4",{attrs:{id:"如何切换用户"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#如何切换用户"}},[e._v("#")]),e._v(" 如何切换用户")]),e._v(" "),_("p",[e._v("从 "),_("code",[e._v("root")]),e._v(" 用户切换至其他用户可以使用")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("# su your_username\n")])])]),_("p",[e._v("从其他用户切换至 "),_("code",[e._v("root")]),e._v(" 用户可以使用如下命令，但需要输入 "),_("code",[e._v("root")]),e._v(" 用户的密码")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("# su\n")])])]),_("p",[e._v("从管理员（已添加至 "),_("code",[e._v("sudoers")]),e._v("）用户切换至 "),_("code",[e._v("root")]),e._v(" 用户可以使用如下命令，但需要输入用户自己的密码")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("# sudo su\n")])])]),_("p",[e._v("好了，现在你已经创建好了你的用户，可以开始尝试安装桌面环境了，后面的内容，我们将会用管理员用户的身份来执行命令，并使用用户自己的密码来提升权限。")]),e._v(" "),_("h2",{attrs:{id:"如何在树莓派-4b-上安装桌面环境"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#如何在树莓派-4b-上安装桌面环境"}},[e._v("#")]),e._v(" 如何在树莓派 4B 上安装桌面环境")]),e._v(" "),_("p",[_("strong",[e._v("注意")]),e._v("：如前文所说，对于这里的内容，我们将会用管理员用户的身份来执行命令，并使用用户自己的密码来提升权限。\n如果你没有设置管理员，对于添加了 "),_("code",[e._v("sudo")]),e._v(" 的命令，请直接使用 "),_("code",[e._v("root")]),e._v(" 用户执行去掉 "),_("code",[e._v("sudo")]),e._v(" 的部分，对于没有添加 "),_("code",[e._v("sudo")]),e._v(" 的命令，请使用普通用户执行。")]),e._v(" "),_("h3",{attrs:{id:"安装-xorg-驱动"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#安装-xorg-驱动"}},[e._v("#")]),e._v(" 安装 Xorg 驱动")]),e._v(" "),_("p",[e._v("首先我们需要安装 "),_("code",[e._v("xorg-x11-drv-fbdev")]),e._v("，其提供了树莓派所需的 Xorg 驱动。")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("$ sudo dnf install xorg-x11-drv-fbdev\n")])])]),_("h3",{attrs:{id:"安装显示管理器"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#安装显示管理器"}},[e._v("#")]),e._v(" 安装显示管理器")]),e._v(" "),_("p",[e._v("然后我们需要安装一个 Display Manager，也即中文所说的显示管理器，用于登录用户，启动各种桌面 Session 等。由于树莓派的性能并不是很高，我们一般选择 "),_("code",[e._v("lightdm")]),e._v(" 进行安装。由于 "),_("code",[e._v("lightdm")]),e._v(" 没有自带 greeter（greeter 是提示用户输入密码的 GUI 界面），除非配置了自动登录，一般情况下我们都需要安装一个 greeter。这里我们使用常见的 "),_("code",[e._v("lightdm-gtk")]),e._v("。")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("$ sudo dnf install lightdm lightdm-gtk\n")])])]),_("h3",{attrs:{id:"安装桌面环境"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#安装桌面环境"}},[e._v("#")]),e._v(" 安装桌面环境")]),e._v(" "),_("p",[e._v("接下来就是安装桌面环境了，同样地，由于树莓派性能较差，我们不推荐安装常见的 GNOME，KDE Plasma 等桌面环境，而推荐使用 LXQt，MATE，Xfce 等轻量级的桌面环境，这里我们使用的是 Xfce。")]),e._v(" "),_("div",{staticClass:"language-text extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("$ sudo dnf install xfce4-session xfwm4\n")])])]),_("p",[e._v("注意，请在 "),_("code",[e._v("/etc/selinux/config")]),e._v(" 中关闭 SELinux，或者你可以修改 "),_("code",[e._v("/etc/selinux/config")]),e._v(" 中的对应选项并安装相应的规则来避免报错，但目前测试即使安装了 SELinux 对应规则也会有无法启动等问题，建议直接关闭。\n在 openEuler 中，"),_("code",[e._v("lightdm.service")]),e._v(" 会被自动 enable，因此安装完毕后，直接重启，就可以看到进入了 "),_("code",[e._v("lightdm")]),e._v(" 的界面，在右上角选择合适的语言，并选中 Xfce Session，输入用户的密码即可进入 Xfce 桌面了。\n如果发现图形界面与显示器边框之间有较大边框，请尝试编辑 "),_("code",[e._v("/boot/config.txt")]),e._v("，并取消 "),_("code",[e._v("disable_overscan=1")]),e._v(" 的注释，如果仍有问题，请手动调整下面的 "),_("code",[e._v("overscan_left")]),e._v("，"),_("code",[e._v("overscan_right")]),e._v(" 等数值。")]),e._v(" "),_("h3",{attrs:{id:"安装配套软件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#安装配套软件"}},[e._v("#")]),e._v(" 安装配套软件")]),e._v(" "),_("p",[e._v("此时的 Xfce 仅仅只是一个单独的桌面，没有配套软件，对此，我们可以按需安装各种软件，下面将给出介绍。")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("Thunar")]),e._v("，Xfce 桌面的文件管理器。\n"),_("ul",[_("li",[_("code",[e._v("thunar-vcs-plugin")]),e._v("，整合部分 SVN 和 Git 操作到 Thunar 中。")]),e._v(" "),_("li",[_("code",[e._v("thunar-media-tags-plugin")]),e._v("，给 Thunar 增加媒体信息显示，并让用户能修改媒体标签。")]),e._v(" "),_("li",[_("code",[e._v("thunar-archive-plugin")]),e._v("，让用户能在 Thunar 内创建或解压压缩文件。")])])]),e._v(" "),_("li",[_("code",[e._v("gigolo")]),e._v("，Xfce 桌面的远程文件系统管理器，方便让用户连接诸如 FTP / SAMBA 等远程文件服务。")]),e._v(" "),_("li",[_("code",[e._v("parole")]),e._v("，Xfce 桌面的媒体播放器。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-terminal")]),e._v("，Xfce 桌面的终端模拟器。")]),e._v(" "),_("li",[_("code",[e._v("xfburn")]),e._v("，Xfce 桌面的光碟烧录软件。")]),e._v(" "),_("li",[_("code",[e._v("Midori")]),e._v("，Xfce 桌面的网页浏览器。")]),e._v(" "),_("li",[_("code",[e._v("catfish")]),e._v("，Xfce 桌面的文件搜索器。")]),e._v(" "),_("li",[_("code",[e._v("ristretto")]),e._v("，Xfce 桌面的图片浏览器。")]),e._v(" "),_("li",[_("code",[e._v("xarchiver")]),e._v("，Xfce 桌面的压缩文件管理器。")]),e._v(" "),_("li",[_("code",[e._v("xfdesktop")]),e._v("，"),_("code",[e._v("xfce-theme-manager")]),e._v("，Xfce 桌面、主题相关。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-settings")]),e._v("，Xfce 桌面的各种设置项。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-power-manager")]),e._v("，Xfce 桌面的电源管理。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-screenshooter")]),e._v("，Xfce 桌面的截图软件。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-screensaver")]),e._v("，Xfce 桌面的锁屏管理软件。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-panel-profiles")]),e._v("，让用户可以对 Xfce panel 的样式进行备份、管理和恢复。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-notifyd")]),e._v("，Xfce 桌面的通知管理器。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-dict")]),e._v("，Xfce 桌面的词典。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-taskmanager")]),e._v("，Xfce 桌面的任务管理器。")]),e._v(" "),_("li",[_("code",[e._v("xfdashboard")]),e._v("，提供类似 GNOME Shell 的多工作空间管理和应用搜索界面。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-appfinder")]),e._v("，让用户可以搜索已安装的应用，或是使用快捷键等方式快速启动应用。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-volumed-pulse")]),e._v("，用于在 Xfce 桌面使用键盘快捷键调节音量")]),e._v(" "),_("li",[_("code",[e._v("network-manager-applet")]),e._v("，用于在 Xfce 桌面连接网络。")]),e._v(" "),_("li",[_("code",[e._v("blueman")]),e._v("，用于在 Xfce 桌面连接蓝牙设备。")]),e._v(" "),_("li",[_("code",[e._v("fcitx")]),e._v("，一个常用的输入法框架，我们可以用其搭配输入法模块来使用各种输入法。\n"),_("ul",[_("li",[_("code",[e._v("fcitx-qt5")]),e._v("，"),_("code",[e._v("fcitx-qt4")]),e._v("，"),_("code",[e._v("fcitx-gtk3")]),e._v("，"),_("code",[e._v("fcitx-gtk2")]),e._v(" 提供对各类应用的支持。")]),e._v(" "),_("li",[_("code",[e._v("fcitx-libpinyin")]),e._v("，提供拼音输入法。")]),e._v(" "),_("li",[_("code",[e._v("fcitx-configtool")]),e._v("，提供 "),_("code",[e._v("fcitx")]),e._v(" 的 GUI 配置界面。")])])]),e._v(" "),_("li",[_("code",[e._v("openEuler-logos")]),e._v("，提供 openEuler 社区的桌面壁纸。")]),e._v(" "),_("li",[_("code",[e._v("gnome-font-viewer")]),e._v(" 和 "),_("code",[e._v("font-manager")]),e._v(" 提供字体管理。")]),e._v(" "),_("li",[_("code",[e._v("google-noto-cjk-fonts")]),e._v("，提供中日韩字型，包括黑体和宋体以及等宽字体。如果觉得体积太大，可仅安装下述中文部分。如不安装，则中文字体可能会显示为方块或者不显示。\n"),_("ul",[_("li",[_("code",[e._v("google-noto-sans-cjk-sc-fonts")]),e._v("，提供中文字型，黑体。")]),e._v(" "),_("li",[_("code",[e._v("google-noto-serif-cjk-sc-fonts")]),e._v("，提供中文字型，宋体。")]),e._v(" "),_("li",[_("code",[e._v("google-noto-sans-mono-cjk-sc-fonts")]),e._v("，提供中文字型，等宽字体。")])])]),e._v(" "),_("li",[_("code",[e._v("mousepad")]),e._v("、"),_("code",[e._v("geany")]),e._v(" 和 "),_("code",[e._v("gedit")]),e._v(" 是轻量的，基于 GTK 的文本编辑器。")])]),e._v(" "),_("p",[e._v("使用 "),_("code",[e._v("imsettings-list")]),e._v(" 可以看到输入法默认选择的是 "),_("code",[e._v("fcitx")]),e._v("，如果不是，可以使用 "),_("code",[e._v("imsettings-switch")]),e._v(" 来进行切换。")]),e._v(" "),_("p",[_("code",[e._v("xfce4-panel")]),e._v(" 提供了绝大多数 Xfce 桌面的功能，例如原本的应用启动器、开始菜单、工作空间切换等，其有非常多的插件可以进行安装，列表如下：")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("xfce4-battery-plugin")]),e._v("，电池电量监控。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-calculator-plugin")]),e._v("，计算器。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-clipman-plugin")]),e._v("，剪贴板管理器。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-cpugraph-plugin")]),e._v("，显示 CPU 支持和被使用的频率信息。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-datetime-plugin")]),e._v("，显示日期和时间，单击可以显示日历。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-diskperf-plugin")]),e._v("，显示实时硬盘 / 分区性能。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-embed-plugin")]),e._v("，将任意应用的窗口固定到 panel。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-eyes-plugin")]),e._v("，一双眼睛。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-fsguard-plugin")]),e._v("，监控挂载点并在达到限额时警告。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-genmon-plugin")]),e._v("，使用脚本监控各项数据并显示在 panel 上。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-hardware-monitor-plugin")]),e._v("，监控各项硬件数据（CPU 占用，网络吞吐量等）。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-mailwatch-plugin")]),e._v("，监控邮箱是否有新邮件。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-mount-plugin")]),e._v("，快捷挂载 / 取消挂载分区或移动存储等。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-mpc-plugin")]),e._v("，一个 MPD 的 GUI 控制器。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-netload-plugin")]),e._v("，显示当前选中网络设备的负载。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-notes-plugin")]),e._v("，提供笔记功能。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-places-plugin")]),e._v("，提供一个快速访问某些文件夹的目录。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-pulseaudio-plugin")]),e._v("，调节麦克风、扬声器的音量。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-sensors-plugin")]),e._v("，支持显示硬件传感器的温度。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-smartbookmark-plugin")]),e._v("，快捷使用各种搜索引擎进行搜索。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-statusnotifier-plugin")]),e._v("，支持让应用显示自己的状态，并与用户进行互动。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-stopwatch-plugin")]),e._v("，秒表。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-systemload-plugin")]),e._v("，系统负载监视器，显示 CPU 负载，交换空间占用及在线时间等。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-timer-plugin")]),e._v("，闹钟。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-time-out-plugin")]),e._v("，定时锁定计算机以让用户休息。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-verve-plugin")]),e._v("，快速执行命令，打开 URL 等，支持补全。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-wavelan-plugin")]),e._v("，显示无线网络的信号、状态、SSID 等。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-weather-plugin")]),e._v("，显示当前的天气状态以及天气预报。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-whiskermenu-plugin")]),e._v("，一个开始菜单替代，可以列出收藏、最近使用的应用，也可以配置关机使用的命令等。")]),e._v(" "),_("li",[_("code",[e._v("xfce4-xkb-plugin")]),e._v("，设置、选择键盘布局。")])]),e._v(" "),_("p",[e._v("未完待续")])])}),[],!1,null,null,null);v.default=t.exports}}]);